title: swift 05
date: 2016-09-27 08:40:54
tags: swift
---

运算符分两种一种是基础运算符(+，-，*，/，%)，另一种是条件运算符?(>，>=，<，<=，!=，===，!==)。

我相信对大家比较陌生的也就是％和===这种。其它的符号相信只要学过数学就都知道什么意思。

%的解释来举个例子吧。

5%1 等于 0
5%2 等于 1
5%3 等于 2

看到了吧，％就是在算余数。

=== 这个的解释放到后面，必须要关联到类和结构。

另外，我们在说下赋值运算符的返回值问题。从C开始，赋值运算符是有返回值的，这样我们才能干这样的事情：

``` c
int a = b = c = d = 100;
```

上面的语句，把a,b,c,d同时赋值100，就是因为d=100返回值也是100，所以继续执行c=100，以此类推。

现在呢？

swift取消了赋值的返回值。不能再这样写了。

为什么这么干呢？

swift不期望使用赋值的返回值，因为在某些条件下，如果开发者不小心的使用，可能会带来不易察觉的BUG。

我相信每一个以程序谋生的人应该都遇到过这样的情况。

比如说，在if判断条件中使用了赋值来当做比较的等号，那么程序是继续执行的，因为赋值返回了非0的值，条件为真。

那么这种情况非常难以发现。容易引出重大BUG。

下面的演示程序中，已经给出了demo。



``` swift
// 赋值
let a = 2
let b = 5
var c = 0

c = a
// 语言的安全性，禁止掉了赋值的返回值，避免c=a这样的写法当做逻辑判断c==a
// 报错: Use of '=' in a boolean context, did you mean '=='?
//if c = a {
//    print("yes")
//}
if c == a {
    print("yes")
} else {
    print("no")
}

// 计算
Int.max
// 溢出检测，报错：error: arithmetic operation '9223372036854775807 + 1' (on type 'Int') results in a overflow
//Int.max + 1
//Int.min - 1
c += 1
c -= -2
c *= 2
c /= -2

// 比较运算符
a == b
a != b
a > b
a >= b
a < b
a <= b

// 与类和结构相关
//a === b
//a !== b

// 三目条件运算符
a > b ? a : b
```
